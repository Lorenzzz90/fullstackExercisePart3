{"version":3,"sources":["components/SearchFilter.js","components/PersonForm.js","services/Persons.js","components/ShowNumbers.js","components/Notifications.js","App.js","index.js"],"names":["SearchFilter","filter","handler","value","onChange","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","baseUrl","exported","getAll","axios","get","then","response","data","addPerson","newObject","post","deletePerson","id","delete","updatePerson","put","ShowNumbers","persons","setPersons","renderPerson","person","name","number","_id","onClick","handleDeleteButton","e","personId","target","p","find","x","window","confirm","personService","obj","toLowerCase","includes","map","Notification","message","isError","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setNewName","setNewNumber","setNewFilter","setMessage","setError","useEffect","initialPersons","event","preventDefault","alreadyExistName","updatedPerson","setTimeout","console","log","catch","error","alert","newPerson","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e62f786d.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst SearchFilter = ( {filter, handler }) => {\r\n\r\n    return (\r\n        <div>\r\n            filter shown with<input\r\n            value={filter}\r\n            onChange={handler}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchFilter","import React from 'react'   \r\n\r\nconst PersonForm = ({ addName, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n    return (\r\n        <form onSubmit={addName}>\r\n        <div>\r\n          name: <input \r\n            value={newName}\r\n            onChange={handleNameChange}\r\n            />\r\n        </div>\r\n        <div>\r\n          number: <input \r\n            value={newNumber}\r\n            onChange={handleNumberChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst addPerson = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst updatePerson = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request\r\n}\r\n\r\nconst exported = { getAll, addPerson, deletePerson, updatePerson }\r\n\r\nexport default exported","import React from 'react'\r\nimport personService from '../services/Persons'\r\n\r\nconst ShowNumbers = ({ filter, persons, setPersons }) => {\r\n  const renderPerson = (person) => {\r\n    return (\r\n    <div key={person.name}>\r\n      {person.name} {person.number} <button value={person._id} onClick={handleDeleteButton}>delete</button>\r\n    </div>\r\n    )}\r\n\r\n  /*const handleDeleteButton = (e) => {\r\n    const id = parseInt(e.target.value, 10)\r\n    personService\r\n      .deletePerson(id)\r\n      .then(() => {\r\n        setPersons(persons.filter(p => p.id !== id))\r\n      })\r\n  }*/\r\n\r\n  const handleDeleteButton = (e) => {\r\n    const personId = e.target.value\r\n    const p = persons.find(x => x._id === personId)\r\n    const result = window.confirm(`Delete ${p.name} ?`)\r\n    if (result) {\r\n      personService\r\n      .deletePerson(personId)\r\n      .then(() => {\r\n        setPersons(persons.filter(p => p._id !== personId))\r\n      })\r\n    }\r\n  }\r\n\r\n    if (!filter) {\r\n      return persons.map(renderPerson) \r\n    }\r\n    else {\r\n      const filteredPersons = persons.filter(obj => obj.name.toLowerCase().includes(filter.toLowerCase()))\r\n      return filteredPersons.map(renderPerson) \r\n    }\r\n  } \r\n\r\nexport default ShowNumbers","import React from 'react' \r\n\r\nconst Notification = ( { message, isError } ) => {\r\n    const notificationErrortStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    const notificationDefaultStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    else if (isError) {\r\n        return (\r\n            <div style={notificationErrortStyle}>\r\n                {message}\r\n            </div>\r\n        )}\r\n    else {\r\n        return (\r\n            <div style={notificationDefaultStyle}>\r\n                {message}\r\n            </div>\r\n        )}\r\n}\r\n\r\nexport default Notification","import React, { useEffect, useState } from 'react'\r\nimport SearchFilter from './components/SearchFilter'\r\nimport PersonForm from './components/PersonForm'\r\nimport ShowNumbers from './components/ShowNumbers'\r\nimport personService from './services/Persons'\r\nimport Notification from './components/Notifications'\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setNewFilter] = useState('')\r\n  const [ message, setMessage ] = useState(null)\r\n  const [ isError, setError ] = useState(false)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => setPersons(initialPersons))\r\n      }\r\n    , [])\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    const newObject = {name: newName, number: newNumber}\r\n    const alreadyExistName = persons.find(obj => obj.name === newName)\r\n    if (alreadyExistName) {\r\n      const result = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\r\n      if (result) {\r\n        personService\r\n          .updatePerson(alreadyExistName._id, newObject)\r\n          .then(updatedPerson => setPersons(persons.map(person => person._id !== alreadyExistName._id ? person : updatedPerson)))\r\n          .then(\r\n            setMessage(`Updated ${newObject.name}`),\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 5000))\r\n          .then(() => {\r\n            setNewName(\"\")\r\n            setNewNumber(\"\")\r\n            console.log('qua')\r\n          })\r\n          .catch( error => { \r\n            console.log(error)\r\n            setError(true)\r\n            setPersons(persons.filter(person => person.name !== newObject.name))\r\n            setMessage(`Information of ${newObject.name} has already beed removed from the server`)\r\n            setTimeout(() => {\r\n              setError(false)\r\n            }, 5000)})\r\n      }\r\n    }\r\n    else if (persons.find(obj => obj.number === newNumber)) {\r\n      window.alert(`${newNumber} is already added to phonebook`)\r\n    }\r\n    else{\r\n      personService\r\n        .addPerson(newObject)\r\n        .then(newPerson => setPersons(persons.concat(newPerson)))\r\n        .then(\r\n          setMessage(`Added ${newObject.name}`),\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n            setError(false)\r\n          }, 5000)\r\n          )\r\n        .then(() => {\r\n          setNewName(\"\")\r\n          setNewNumber(\"\")\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n          setError(true)\r\n          setMessage(error)\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n            setError(false)\r\n          }) \r\n        })\r\n        \r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilter = (event) => {\r\n    setNewFilter(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} isError={isError} />\r\n\r\n      <SearchFilter\r\n        filter={filter}\r\n        handler={handleFilter}\r\n      />\r\n      \r\n      <h3>add a new</h3>\r\n\r\n      <PersonForm \r\n        addName={addName}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n\r\n      <h3>Numberss</h3>\r\n        <ShowNumbers\r\n          filter={filter} \r\n          persons={persons}\r\n          setPersons={setPersons}\r\n        />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}